name: Create release

on:
  push:
    branches:
       - main
    tags:
       - "v*"

permissions: 
    contents: write

jobs:
  release: 
    name: Create GitHub Release
    runs-on: ubuntu-latest

    steps:
       - name: Check out the repo
         uses: actions/checkout@v4

       - name: Create Release branch
         run: |
            TAG=${GITHUB_REF#refs/tags/}
            RELEASE_BRANCH="release/${TAG}"
            git config user.name github-actions
            git config user.email github-actions@github.com
            git checkout -b $RELEASE_BRANCH
            git push origin $RELEASE_BRANCH
         
    